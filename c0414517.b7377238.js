(window.webpackJsonp=window.webpackJsonp||[]).push([[274],{399:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return i})),n.d(t,"metadata",(function(){return l})),n.d(t,"rightToc",(function(){return c})),n.d(t,"default",(function(){return p}));var a=n(1),o=n(9),r=(n(0),n(489)),i={id:"localization",title:"Localization",sidebar_label:"Localization"},l={id:"version-5.x/localization",title:"Localization",description:"English is only one of many languages people speak around the world (thanks a lot, [Tower of Babel](https://en.wikipedia.org/wiki/Tower_of_Babel)) and it's polite and sometimes even necessary to translate our app to the languages our users speak. Let's look at one way we can do this in React Navigation - it's not the only way but it'll do the trick. Similar to [themes](themes.md), we will use React's context API in order to make it easier to access the translate function from a variety of components.",source:"@site/versioned_docs/version-5.x/localization.md",permalink:"/docs/localization",editUrl:"https://github.com/react-navigation/react-navigation.github.io/edit/source/versioned_docs/version-5.x/localization.md",version:"5.x",sidebar_label:"Localization",sidebar:"version-5.x/docs",previous:{title:"Integrating with MobX State Tree",permalink:"/docs/MST-integration"},next:{title:"Optimize memory usage and performance",permalink:"/docs/react-native-screens"}},c=[{value:"Setting up a localization library",id:"setting-up-a-localization-library",children:[]},{value:"Wiring up your localization library to navigation",id:"wiring-up-your-localization-library-to-navigation",children:[]}],s={rightToc:c};function p(e){var t=e.components,n=Object(o.a)(e,["components"]);return Object(r.b)("wrapper",Object(a.a)({},s,n,{components:t,mdxType:"MDXLayout"}),Object(r.b)("p",null,"English is only one of many languages people speak around the world (thanks a lot, ",Object(r.b)("a",Object(a.a)({parentName:"p"},{href:"https://en.wikipedia.org/wiki/Tower_of_Babel"}),"Tower of Babel"),") and it's polite and sometimes even necessary to translate our app to the languages our users speak. Let's look at one way we can do this in React Navigation - it's not the only way but it'll do the trick. Similar to ",Object(r.b)("a",Object(a.a)({parentName:"p"},{href:"/docs/themes"}),"themes"),", we will use React's context API in order to make it easier to access the translate function from a variety of components."),Object(r.b)("h2",{id:"setting-up-a-localization-library"},"Setting up a localization library"),Object(r.b)("p",null,"We'll need to use some kind of library to store our translations and provide a function that gives us access to them, along with handling fallbacks when we don't have a particular language defined. Localization and internationalization (i18n) are often used interchangeably, as in the example below where we get the current ",Object(r.b)("inlineCode",{parentName:"p"},"locale")," from ",Object(r.b)("inlineCode",{parentName:"p"},"expo-localization")," and use the ",Object(r.b)("inlineCode",{parentName:"p"},"i18n-js")," library for managing translations, for no particular reason other than it was available - use whatever you like."),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{className:"language-jsx"}),"import * as Localization from 'expo-localization'; // or whatever library you want\nimport i18n from 'i18n-js'; // or whatever library you want\n\nconst en = {\n  foo: 'Foo',\n  bar: 'Bar {{someValue}}',\n};\n\nconst fr = {\n  foo: 'Fou',\n  bar: 'B\xe1r {{someValue}}',\n};\n\ni18n.fallbacks = true;\ni18n.translations = { fr, en };\n\n// This will log 'en' for me, as I'm an English speaker\nconsole.log(Localization.locale);\n")),Object(r.b)("h2",{id:"wiring-up-your-localization-library-to-navigation"},"Wiring up your localization library to navigation"),Object(r.b)("p",null,"Next let's store our ",Object(r.b)("inlineCode",{parentName:"p"},"locale")," in the state of our root app component and then thread it through ",Object(r.b)("inlineCode",{parentName:"p"},"LocalizationContext")," to make it available throughout our app."),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{className:"language-js"}),"export const LocalizationContext = React.createContext();\n\nexport default function App() {\n  const [locale, setLocale] = React.useState(Localization.locale);\n  const localizationContext = React.useMemo(\n    () => ({\n      t: (scope, options) => i18n.t(scope, { locale, ...options }),\n      locale,\n      setLocale,\n    }),\n    [locale]\n  );\n\n  return (\n    <LocalizationContext.Provider value={localizationContext}>\n      <NavigationContainer>{/* Screen configuration */}</NavigationContainer>\n    </LocalizationContext.Provider>\n  );\n}\n")),Object(r.b)("p",null,"Now in our screens we can use these ",Object(r.b)("inlineCode",{parentName:"p"},"LocalizationContext")," as follows:"),Object(r.b)("samp",{id:"localization"}),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{className:"language-js"}),"function MyScreen() {\n  const { t, locale, setLocale } = React.useContext(LocalizationContext);\n\n  return (\n    <View style={styles.container}>\n      <Text style={styles.text}>\n        Current locale: {locale}.{' '}\n        {locale !== 'en' && locale !== 'fr'\n          ? 'Translations will fall back to \"en\" because none available'\n          : null}\n      </Text>\n      <Text>{t('bar', { someValue: Date.now() })}</Text>\n      {locale === 'en' ? (\n        <Button title=\"Switch to French\" onPress={() => setLocale('fr')} />\n      ) : (\n        <Button title=\"Switch to English\" onPress={() => setLocale('en')} />\n      )}\n    </View>\n  );\n}\n")),Object(r.b)("p",null,"We can also use it for screen options:"),Object(r.b)("samp",{id:"localization-with-title"}),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{className:"language-js"}),"function MyStack() {\n  const { t } = React.useContext(LocalizationContext);\n\n  return (\n    <Stack.Navigator>\n      <Stack.Screen\n        name=\"Home\"\n        component={MyScreen}\n        options={{ title: t('foo') }}\n      />\n    </Stack.Navigator>\n  );\n}\n")),Object(r.b)("p",null,"Refer to ",Object(r.b)("a",Object(a.a)({parentName:"p"},{href:"/docs/themes"}),"themes")," and the ",Object(r.b)("a",Object(a.a)({parentName:"p"},{href:"https://reactjs.org/docs/context.html"}),"React documentation on context")," for help."))}p.isMDXComponent=!0},489:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return d}));var a=n(0),o=n.n(a);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var s=o.a.createContext({}),p=function(e){var t=o.a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):l({},t,{},e)),n},u=function(e){var t=p(e.components);return o.a.createElement(s.Provider,{value:t},e.children)},b={inlineCode:"code",wrapper:function(e){var t=e.children;return o.a.createElement(o.a.Fragment,{},t)}},m=Object(a.forwardRef)((function(e,t){var n=e.components,a=e.mdxType,r=e.originalType,i=e.parentName,s=c(e,["components","mdxType","originalType","parentName"]),u=p(n),m=a,d=u["".concat(i,".").concat(m)]||u[m]||b[m]||r;return n?o.a.createElement(d,l({ref:t},s,{components:n})):o.a.createElement(d,l({ref:t},s))}));function d(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var r=n.length,i=new Array(r);i[0]=m;var l={};for(var c in t)hasOwnProperty.call(t,c)&&(l[c]=t[c]);l.originalType=e,l.mdxType="string"==typeof e?e:a,i[1]=l;for(var s=2;s<r;s++)i[s]=n[s];return o.a.createElement.apply(null,i)}return o.a.createElement.apply(null,n)}m.displayName="MDXCreateElement"}}]);